<form class="container" #addressForm="ngForm">

  <div class="form-group row">
    <label class="col-sm-2 col-form-label" for="address1">Address 1</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="address1"
             required maxlength="100"
             [(ngModel)]="address.address1" name="address1" #address1="ngModel">

      <div *ngIf="address1.invalid && (address1.dirty || address1.touched)"
           class="alert alert-danger">
        <div *ngIf="address1.errors.required">
          Address 1 is required.
        </div>
        <div *ngIf="address1.errors.maxLength">
          Adress 1 must be no more than 100 characters long.
        </div>
      </div>

    </div>
  </div>

  <div class="form-group row">
    <label class="col-sm-2 col-form-label" for="address2">Address 2</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="address2"
             maxlength="100"
             [(ngModel)]="address.address2" name="address2" #address2="ngModel">

      <div *ngIf="address2.invalid && (address2.dirty || address2.touched)"
           class="alert alert-danger">
        <div *ngIf="address2.errors.maxLength">
          Adress 2 must be no more than 100 characters long.
        </div>
      </div>

    </div>
  </div>

  <div class="form-group row">
    <label class="col-sm-2 col-form-label" for="city">City</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="city"
             required maxlength="50"
             [(ngModel)]="address.city" name="city" #city="ngModel">

      <div *ngIf="city.invalid && (city.dirty || city.touched)"
           class="alert alert-danger">
        <div *ngIf="city.errors.required">
          City is required.
        </div>
        <div *ngIf="city.errors.maxLength">
          City must be no more than 50 characters long.
        </div>
      </div>

    </div>
  </div>

  <div class="form-group row">
    <label class="col-sm-2 col-form-label" for="state">State</label>
    <div class="col-sm-10">
      <select name="state" class="form-control" id="state"
              required
              [(ngModel)]="address.state" name="state" #state="ngModel">
        <option *ngFor="let state of stateCodeKeys()" [value]="stateCodes[state]">{{state}}</option>
      </select>

      <div *ngIf="state.invalid && (state.dirty || state.touched)"
           class="alert alert-danger">
        <div *ngIf="state.errors.required">
          State is required.
        </div>
      </div>

    </div>
  </div>

  <div class="form-group row">
    <label class="col-sm-2 col-form-label" for="zip">Zip</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="zip"
             required pattern="(\d{5}([\-]\d{4})?)"
             [(ngModel)]="address.zip" name="zip" #zip="ngModel">

      <div *ngIf="zip.invalid && (zip.dirty || zip.touched)"
           class="alert alert-danger">
        <div *ngIf="zip.errors.required">
          Zip is required.
        </div>
        <div *ngIf="zip.errors.pattern">
          Zip must be in the format (#####) or (#####-####)
        </div>
      </div>

    </div>
  </div>
</form>
